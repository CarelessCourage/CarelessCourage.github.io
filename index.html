<head>
	<meta http-equiv="Content-Security-Policy" content="default-src *; style-src 'self' http://* 'unsafe-inline'; script-src 'self' http://* 'unsafe-inline' 'unsafe-eval'" />
</head>

<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

<div id="app">
	<div class="tabs">
		<ul class="limit">
			<li v-for="(tab, index) in tabs">
				<div class="tab" id="tab" :class="{highlight:tab.number == selected}" @click="selected = tab.number">
					<p>{{tab.number}}</p>
					<p id="close" @click="deleteRow(index)">x</p>
				</div>
				<div class="chat" v-show="selected === tab.number">
					<iframe frameborder="<frameborder width>" scrolling="<scrolling>" id="destiny" src="https://www.destiny.gg/embed/chat" width="100%">
				</iframe>
				</div>
			</li>
		</ul>

		<div class="tab add" id="add" @click="addTab" v-if="tabs.length < 5">
			<p>+</p>
		</div>

	</div>
</div>

<style>
	.limit p {
		-webkit-user-select: none;
		/* Safari */
		-moz-user-select: none;
		/* Firefox */
		-ms-user-select: none;
		/* IE10+/Edge */
		user-select: none;
		/* Standard */
	}

	ul {
		padding: 0;
		margin: 0em;
	}

	li {
		display: inline-block;
	}

	.chat {
		position: absolute;
		top: 2em;
		left: 0em;
		width: 100%;
	}

	.tab {
		background-color: #162331;
		border-radius: .5em;
		border-bottom-left-radius: 0em;
		border-bottom-right-radius: 0em;
		min-width: 3em;
		height: 1em;
		color: #e8e8e8;
		padding: .5em;
		text-align: center;
		position: relative;
		cursor: pointer;
		font-family: monospace;
		transition: .4s;
		margin-right: .2em;
	}

	.tab p {
		margin-top: -.0em;
		color: #9d9d9d;
	}

	.tab:hover {
		background-color: #061b27;
	}

	.tab:active {
		background-color: #501616;
	}

	.tab p:nth-of-type(2) {
		background: rgba(0, 0, 0, 0);
		width: .5em;
		position: absolute;
		top: -0em;
		right: .6em;
		transition: .4s;
	}

	.tab p:nth-of-type(2):hover {
		transform: scale(1.2);
		color: #939393;
	}

	.add {
		width: 3em;
		background-color: #333333;
	}

	.add {
		transition: .4s;
	}

	.add:hover {
		background-color: #113267;
		transform: scale(1.1);
		transform-origin: bottom;
	}

	.tabs {
		display: grid;
		width: 100%;
		grid-template-columns: auto 1fr;
		grid-template-rows: 1fr, 2fr;
		grid-gap: .5em;
		margin-top: -.1em;
		margin-left: -.4em;
		padding-left: 0em;
	}

	html {
		background-color: #021117;
		padding: 0em;
	}

	iframe {
		height: calc(100% - 2em)
	}

	.highlight {
		background-color: #000000;
	}

	.highlight:hover {
		background-color: #000000;
	}

</style>

<script>
	var app = new Vue({
		el: '#app',
		data: {
			selected: 1,
			tabs: [{
				number: 1,
				isActive: false,
			}]
		},
		methods: {
			addTab() {
				this.tabs.push({
					number: this.tabs.length + 1,
					isActive: false,
				})
			},
			deleteRow(index) {
				this.tabs.splice(index, 1)
			}
		}
	})
</script>
